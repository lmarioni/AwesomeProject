{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/createClass","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.VelocityTracker = void 0;\n\n  var _classCallCheck2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/classCallCheck\"));\n\n  var _createClass2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/createClass\"));\n\n  var VelocityTracker = function () {\n    function VelocityTracker() {\n      (0, _classCallCheck2.default)(this, VelocityTracker);\n      this.history = [];\n      this.lastPosition = undefined;\n      this.lastTimestamp = undefined;\n    }\n\n    (0, _createClass2.default)(VelocityTracker, [{\n      key: \"add\",\n      value: function add(position) {\n        var timestamp = new Date().valueOf();\n\n        if (this.lastPosition && timestamp > this.lastTimestamp) {\n          var diff = position - this.lastPosition;\n\n          if (diff > 0.001 || diff < -0.001) {\n            this.history.push(diff / (timestamp - this.lastTimestamp));\n          }\n        }\n\n        this.lastPosition = position;\n        this.lastTimestamp = timestamp;\n      }\n    }, {\n      key: \"estimateSpeed\",\n      value: function estimateSpeed() {\n        var finalTrend = this.history.slice(-3);\n        var sum = finalTrend.reduce(function (r, v) {\n          return r + v;\n        }, 0);\n        return sum / finalTrend.length;\n      }\n    }, {\n      key: \"reset\",\n      value: function reset() {\n        this.history = [];\n        this.lastPosition = undefined;\n        this.lastTimestamp = undefined;\n      }\n    }]);\n    return VelocityTracker;\n  }();\n\n  exports.VelocityTracker = VelocityTracker;\n});","map":[[13,6,1,13,"VelocityTracker"],[13,21],[14,0,2,2],[14,31,2,16],[15,0,2,16],[16,0,3,4],[16,11,3,9,"history"],[16,18,3,4],[16,21,3,19],[16,23,3,4],[17,0,4,4],[17,11,4,9,"lastPosition"],[17,23,4,4],[17,26,4,24,"undefined"],[17,35,4,4],[18,0,5,4],[18,11,5,9,"lastTimestamp"],[18,24,5,4],[18,27,5,25,"undefined"],[18,36,5,4],[19,0,6,3],[23,26,8,6,"position"],[23,34],[23,36,8,16],[24,0,9,4],[24,12,9,10,"timestamp"],[24,21,9,19],[24,24,9,22],[24,28,9,26,"Date"],[24,32,9,22],[24,35,9,33,"valueOf"],[24,42,9,22],[24,44,9,4],[26,0,10,4],[26,12,10,8],[26,17,10,13,"lastPosition"],[26,29,10,8],[26,33,10,29,"timestamp"],[26,42,10,38],[26,45,10,41],[26,50,10,46,"lastTimestamp"],[26,63,10,4],[26,65,10,61],[27,0,11,6],[27,14,11,12,"diff"],[27,18,11,16],[27,21,11,19,"position"],[27,29,11,27],[27,32,11,30],[27,37,11,35,"lastPosition"],[27,49,11,6],[29,0,12,6],[29,14,12,10,"diff"],[29,18,12,14],[29,21,12,17],[29,26,12,10],[29,30,12,26,"diff"],[29,34,12,30],[29,37,12,33],[29,38,12,34],[29,43,12,6],[29,45,12,41],[30,0,13,8],[30,17,13,13,"history"],[30,24,13,8],[30,25,13,21,"push"],[30,29,13,8],[30,30,13,26,"diff"],[30,34,13,30],[30,38,13,34,"timestamp"],[30,47,13,43],[30,50,13,46],[30,55,13,51,"lastTimestamp"],[30,68,13,30],[30,69,13,8],[31,0,14,7],[32,0,15,5],[34,0,16,4],[34,13,16,9,"lastPosition"],[34,25,16,4],[34,28,16,24,"position"],[34,36,16,4],[35,0,17,4],[35,13,17,9,"lastTimestamp"],[35,26,17,4],[35,29,17,25,"timestamp"],[35,38,17,4],[36,0,18,3],[39,38,20,18],[40,0,21,4],[40,12,21,10,"finalTrend"],[40,22,21,20],[40,25,21,23],[40,30,21,28,"history"],[40,37,21,23],[40,38,21,36,"slice"],[40,43,21,23],[40,44,21,42],[40,45,21,43],[40,46,21,23],[40,47,21,4],[41,0,22,4],[41,12,22,10,"sum"],[41,15,22,13],[41,18,22,16,"finalTrend"],[41,28,22,26],[41,29,22,27,"reduce"],[41,35,22,16],[41,36,22,34],[41,46,22,35,"r"],[41,47,22,34],[41,49,22,38,"v"],[41,50,22,34],[42,0,22,34],[42,17,22,44,"r"],[42,18,22,45],[42,21,22,48,"v"],[42,22,22,34],[43,0,22,34],[43,9,22,16],[43,11,22,51],[43,12,22,16],[43,13,22,4],[44,0,23,4],[44,15,23,11,"sum"],[44,18,23,14],[44,21,23,17,"finalTrend"],[44,31,23,27],[44,32,23,28,"length"],[44,38,23,4],[45,0,24,3],[48,30,26,10],[49,0,27,4],[49,13,27,9,"history"],[49,20,27,4],[49,23,27,19],[49,25,27,4],[50,0,28,4],[50,13,28,9,"lastPosition"],[50,25,28,4],[50,28,28,24,"undefined"],[50,37,28,4],[51,0,29,4],[51,13,29,9,"lastTimestamp"],[51,26,29,4],[51,29,29,25,"undefined"],[51,38,29,4],[52,0,30,3]]},"type":"js/module"}]}
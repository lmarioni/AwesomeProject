{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/createClass","data":{"isAsync":false}},{"name":"../utils/log.js","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n\n  var _classCallCheck2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/classCallCheck\"));\n\n  var _createClass2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/createClass\"));\n\n  var _log = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[3], \"../utils/log.js\"));\n\n  var log = new _log.default('EventTarget');\n  log.disable();\n\n  var EventTarget = function () {\n    function EventTarget() {\n      (0, _classCallCheck2.default)(this, EventTarget);\n      log.info('constructor called');\n      this.listeners = {};\n    }\n\n    (0, _createClass2.default)(EventTarget, [{\n      key: \"addEventListener\",\n      value: function addEventListener(type, cb) {\n        log.info('add event listener', type, cb);\n\n        if (!(type in this.listeners)) {\n          this.listeners[type] = [];\n        }\n\n        this.listeners[type].push(cb);\n      }\n    }, {\n      key: \"removeEventListener\",\n      value: function removeEventListener(type, cb) {\n        log.info('remove event listener', type, cb);\n        if (!(type in this.listeners)) return;\n        var handlers = this.listeners[type];\n\n        for (var i in handlers) {\n          if (cb === handlers[i]) {\n            handlers.splice(i, 1);\n            return this.removeEventListener(type, cb);\n          }\n        }\n      }\n    }, {\n      key: \"dispatchEvent\",\n      value: function dispatchEvent(type, event) {\n        log.info('dispatch event', event);\n        if (!(type in this.listeners)) return;\n        var handlers = this.listeners[type];\n\n        for (var i in handlers) {\n          handlers[i].call(this, event);\n        }\n      }\n    }, {\n      key: \"clearEventListeners\",\n      value: function clearEventListeners() {\n        for (var i in this.listeners) {\n          delete this.listeners[i];\n        }\n      }\n    }]);\n    return EventTarget;\n  }();\n\n  exports.default = EventTarget;\n});","map":[[13,0,5,0],[15,0,7,0],[15,6,7,6,"log"],[15,9,7,9],[15,12,7,12],[15,16,7,16,"Log"],[15,28,7,12],[15,29,7,20],[15,42,7,12],[15,43,7,0],[16,0,9,0,"log"],[16,2,9,0,"log"],[16,5,9,3],[16,6,9,4,"disable"],[16,13,9,0],[18,6,11,21,"EventTarget"],[18,17],[19,0,15,2],[19,27,15,16],[20,0,15,16],[21,0,16,4,"log"],[21,6,16,4,"log"],[21,9,16,7],[21,10,16,8,"info"],[21,14,16,4],[21,15,16,13],[21,35,16,4],[22,0,17,4],[22,11,17,9,"listeners"],[22,20,17,4],[22,23,17,21],[22,25,17,4],[23,0,18,3],[27,39,25,19,"type"],[27,43],[27,45,25,32,"cb"],[27,47],[27,49,25,49],[28,0,26,4,"log"],[28,8,26,4,"log"],[28,11,26,7],[28,12,26,8,"info"],[28,16,26,4],[28,17,26,13],[28,37,26,4],[28,39,26,35,"type"],[28,43,26,4],[28,45,26,41,"cb"],[28,47,26,4],[30,0,27,4],[30,12,27,7],[30,14,27,9,"type"],[30,18,27,13],[30,22,27,17],[30,27,27,22,"listeners"],[30,36,27,7],[30,37,27,4],[30,39,27,34],[31,0,28,6],[31,15,28,11,"listeners"],[31,24,28,6],[31,25,28,21,"type"],[31,29,28,6],[31,33,28,29],[31,35,28,6],[32,0,29,5],[34,0,30,4],[34,13,30,9,"listeners"],[34,22,30,4],[34,23,30,19,"type"],[34,27,30,4],[34,29,30,25,"push"],[34,33,30,4],[34,34,30,30,"cb"],[34,36,30,4],[35,0,31,3],[38,42,39,22,"type"],[38,46],[38,48,39,35,"cb"],[38,50],[38,52,39,50],[39,0,40,4,"log"],[39,8,40,4,"log"],[39,11,40,7],[39,12,40,8,"info"],[39,16,40,4],[39,17,40,13],[39,40,40,4],[39,42,40,38,"type"],[39,46,40,4],[39,48,40,44,"cb"],[39,50,40,4],[40,0,41,4],[40,12,41,7],[40,14,41,9,"type"],[40,18,41,13],[40,22,41,17],[40,27,41,22,"listeners"],[40,36,41,7],[40,37,41,4],[40,39,42,6],[41,0,43,4],[41,12,43,8,"handlers"],[41,20,43,16],[41,23,43,19],[41,28,43,24,"listeners"],[41,37,43,19],[41,38,43,34,"type"],[41,42,43,19],[41,43,43,4],[43,0,44,4],[43,13,44,8],[43,17,44,12,"i"],[43,18,44,4],[43,22,44,17,"handlers"],[43,30,44,4],[43,32,44,27],[44,0,45,6],[44,14,45,9,"cb"],[44,16,45,11],[44,21,45,16,"handlers"],[44,29,45,24],[44,30,45,25,"i"],[44,31,45,24],[44,32,45,6],[44,34,45,29],[45,0,46,8,"handlers"],[45,12,46,8,"handlers"],[45,20,46,16],[45,21,46,17,"splice"],[45,27,46,8],[45,28,46,24,"i"],[45,29,46,8],[45,31,46,26],[45,32,46,8],[46,0,47,8],[46,19,47,15],[46,24,47,20,"removeEventListener"],[46,43,47,15],[46,44,47,40,"type"],[46,48,47,15],[46,50,47,46,"cb"],[46,52,47,15],[46,53,47,8],[47,0,48,7],[48,0,49,5],[49,0,50,3],[52,36,57,16,"type"],[52,40],[52,42,57,28,"event"],[52,47],[52,49,57,41],[53,0,58,4,"log"],[53,8,58,4,"log"],[53,11,58,7],[53,12,58,8,"info"],[53,16,58,4],[53,17,58,13],[53,33,58,4],[53,35,58,31,"event"],[53,40,58,4],[54,0,59,4],[54,12,59,7],[54,14,59,9,"type"],[54,18,59,13],[54,22,59,17],[54,27,59,22,"listeners"],[54,36,59,7],[54,37,59,4],[54,39,60,6],[55,0,61,4],[55,12,61,8,"handlers"],[55,20,61,16],[55,23,61,19],[55,28,61,24,"listeners"],[55,37,61,19],[55,38,61,34,"type"],[55,42,61,19],[55,43,61,4],[57,0,62,4],[57,13,62,8],[57,17,62,12,"i"],[57,18,62,4],[57,22,62,17,"handlers"],[57,30,62,4],[57,32,62,27],[58,0,63,6,"handlers"],[58,10,63,6,"handlers"],[58,18,63,14],[58,19,63,15,"i"],[58,20,63,14],[58,21,63,6],[58,22,63,18,"call"],[58,26,63,6],[58,27,63,23],[58,31,63,6],[58,33,63,29,"event"],[58,38,63,6],[59,0,64,5],[60,0,66,3],[63,44,73,24],[64,0,74,4],[64,13,74,8],[64,17,74,12,"i"],[64,18,74,4],[64,22,74,17],[64,27,74,22,"listeners"],[64,36,74,4],[64,38,74,33],[65,0,75,6],[65,17,75,13],[65,22,75,18,"listeners"],[65,31,75,13],[65,32,75,28,"i"],[65,33,75,13],[65,34,75,6],[66,0,76,5],[67,0,77,3]]},"type":"js/module"}]}